ORG 0000H
MOV A,#0FEH
MOV B,#02H
MOV R5,A
MOV R2,#00H
MOV R1,#30H
MOV A,B
INC A
JZ AD_Over
MOV B,A
MOV A,R5
Divide:
MOV R3,A
SUBB A,B
JC Divide_done
INC R2
JMP Divide
Divide_done:
MOV R0,#21H
MOV A,R2
MOV @R0,A
MOV R0,#22H
MOV A,R3
MOV @R0,A
MOV A,R2
ADD A,#00H
RLC A
JC M_Over
RLC A
JC M_Over
MOV R5,A
MOV A,#00H
MOV @R1,A
MOV A,R5
Load_Result:
MOV R0,#23H
MOV @R0,A
JMP ENDLOOP
M_Over:
MOV R5,A
MOV A,#03H
MOV @R1,A
MOV A,R5
JMP Load_Result
AD_Over:
MOV A,#01H
MOV @R1,A
ENDLOOP:
JMP ENDLOOP
END